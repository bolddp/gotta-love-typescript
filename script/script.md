## NVM

- nvm list
- nvm list available
- nvm install 14.21.3
- nvm use 14.21.3
- nvm use 16.17.0

## VS Code

- md gotta
- VS code -> terminal
- hw.ts -> console.log('Hello World!');

## MPX

- NPX - Node package runner
- npx ts-node ./hw.ts

## NPM

- usually wanna create a more organized project
- npm init
- tsc --init
- "outDir": "./dist"
- md src
- remove hw.ts
- npm install uuid
- npm install -D @types/uuid

# Interfaces

## Create interface

file: Person.ts

```ts
export interface Person {
  personId: string; // UUID
  name: string;
  yearOfBirth: number;
}
```

## Create function to log interface

- file: logPerson.ts - common pattern for functional programming
- info: JSON.stringify built in

```ts
const logPerson = (person: Person) => {
  console.log(`Person: ${JSON.stringify(person)}`);
};
```

## Declare person

```ts
const person = {
  name: 'Daniel',
};
```

### No errors yet!

```ts
logPerson(implicitPerson); // <-- Error is here
```

### Change to explicit person, error now in correct place

```ts
const person: Person = {
  name: 'Daniel',
};
```

### Add yearOfBirth to remove error

```ts
const person: Person = {
  name: 'Daniel',
  yearOfBirth: 1972,
};
```

### Declare in function call

```ts
logPerson({
  name: 'Benny',
  yearOfBirth: 1980,
});
```

# Classes

file: PersonService.ts

```ts
export class PersonService {
  private config: PersonServiceConfig;
  private personRepository: PersonRepository;

  constructor(config: PersonServiceConfig, personRepository: PersonRepository) {
    this.config = config;
    this.personRepository = personRepository;
  }
}
```

### Add interface

in same file

```ts
export interface PersonServiceConfig {
  log?: (msg: string) => void;
}
```

### Add createPerson method

```ts
createPerson(person: Person) { // <-- Problem: the id shouldn't be included, that should be generated by PersonService
}
```

### Add CreatePersonRequest type

```ts
export type CreatePersonRequest = Omit<Person, 'personId'>;
```

### Change createPerson

```ts
createPerson(personRequest: CreatePersonRequest) {
  this.config.log?.('createPerson'); // <-- Optional chaining: NIIICE!
  const newPerson: Person = {
    ...personRequest,
    personId: uuid()
  }
}
```
